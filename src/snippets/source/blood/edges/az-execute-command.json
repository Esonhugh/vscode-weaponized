{
    "AZExecuteCommand": {
        "meaning": "Principals with the Intune Administrators role are able to execute arbitrary PowerShell scripts on devices that are joined to the Azure tenant.",
        "common": "",
        "windows": {
            "Azure_Web_Portal": [
                {
                    "order": 1,
                    "command": "# 1. Log into the Azure web portal as the user with the \"Intune Administrator\" role activated",
                    "description": "Access Azure portal with Intune Administrator role"
                },
                {
                    "order": 2,
                    "command": "# 2. Access Endpoint Manager at https://endpoint.microsoft.com",
                    "description": "Navigate to Endpoint Manager portal"
                },
                {
                    "order": 3,
                    "command": "# 3. Click on \"Devices\" → \"Scripts\" under the \"Policy\" section → \"Add\" → \"Windows 10\"",
                    "description": "Navigate to PowerShell script management page"
                },
                {
                    "order": 4,
                    "command": "# 4. Upload PS1 file and configure execution scope (All devices/users or Selected groups)",
                    "description": "Configure and deploy PowerShell script through Intune interface"
                },
                {
                    "order": 5,
                    "command": "# 5. Wait up to an hour for target systems to check in and execute the script",
                    "description": "Script will run as SYSTEM user unless specified otherwise"
                }
            ]
        },
        "linux": {
            "PowerShell_Core": [
                {
                    "order": 1,
                    "command": "# Install PowerShell and Azure modules for potential automation",
                    "description": "Azure Execute Command is primarily designed for Windows devices managed by Intune"
                },
                {
                    "order": 2,
                    "command": "Install-Module -Name Microsoft.Graph.Intune -Force",
                    "description": "Install Microsoft Graph Intune module for potential API automation"
                }
            ]
        }
    }
}
